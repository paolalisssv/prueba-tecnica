{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d51d494\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"hello\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-dark button\"\n}, \"Refresh\")], -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Buscar por titulo o tipo de documento\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"td\", null, \"Titulo\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Tipo\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Usuario\")], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"login\",\n    class: \"fadeIn second\",\n    name: \"email\",\n    placeholder: \"Buscar\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.search = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.search]]), _hoisted_2, _hoisted_3, _ctx.rol === 'Creador' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/add\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Agregar contenido\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"table\", null, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.content, cont => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: cont.name\n    }, [_createElementVNode(\"td\", null, _toDisplayString(cont.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cont.type), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(cont.username), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_createElementBlock","_hoisted_1","type","id","name","placeholder","_cache","$event","_ctx","search","_hoisted_2","_hoisted_3","rol","_hoisted_4","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_createCommentVNode","_hoisted_5","_Fragment","_renderList","content","cont","_toDisplayString","title","username"],"sources":["/Users/paolasantollovargas/Documents/high-power-prueba-tecnica/frontend/src/views/LibraryView.vue"],"sourcesContent":["<template>\n  <div class=\"hello\">\n    <div>\n      <input type=\"text\" id=\"login\" class=\"fadeIn second\" name=\"email\" placeholder=\"Buscar\" v-model=\"search\">\n      <div class=\"col-2\">\n        <button class=\"btn btn-dark button\" >Refresh</button>\n      </div>\n      <p>Buscar por titulo o tipo de documento</p>\n      <div v-if=\"rol ==='Creador'\">\n        <router-link to='/add'>Agregar contenido</router-link>\n      </div>\n    </div>\n    \n    <table>\n        <tr>\n          <td>Titulo</td>\n          <td>Tipo</td>\n          <td>Usuario</td>\n        </tr>\n        <tbody>\n          <tr v-for=\"cont in content\" :key=\"cont.name\" >\n            <td >\n              {{cont.title}}\n            </td>\n             <td >\n              {{cont.type}}\n            </td>\n            <td >\n              {{cont.username}}\n            </td>\n          </tr>\n        </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'LibraryView',\n  components: {\n\n  },\n  data: function(){\n    return {\n      rol: localStorage.rol,\n      content:[]\n    }\n  },\n  mounted() {\n    this.token= localStorage.token;\n    console.log(this.token)\n    if(this.token!== undefined){\n      axios.get('http://localhost:3000/api/content/list/', { headers: { token: this.token }} )\n        .then( data =>{\n        console.log(data.status)\n            if(data.status == 200){\n            console.log(\"oook\")\n              this.content = data.data.content;\n              console.log(\"data\",this.content)\n            }else{\n            console.log(data)\n              this.error = true;\n              this.error_msg = data.data.message;\n            }\n        })\n        .catch(function () {\n         console.log(\"error\")\n         //this.error = ref('does it work?');\n\n        })\n    }else{\n      axios.get('http://localhost:3000/api/content/home/list/' )\n        .then( data =>{\n        console.log(data)\n          if(data.status == 200){\n            this.content = data.data.content;\n            console.log(this.content)\n          }else{\n          console.log(data)\n            this.error = true;\n            this.error_msg = data.data.message;\n          }\n        })\n        .catch(function () {\n          console.log(\"error\")\n          //this.error = ref('does it work?');\n        })\n    }\n    \n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\ntable{\n  margin-top:50px;\n  width: 100%;\n}\n\ntd{\n  border: 1px solid rgba(66, 185, 131, 0.5);\n}\n\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAO;gEAGdC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAO,I,aAChBC,mBAAA,CAAqD;EAA7CD,KAAK,EAAC;AAAqB,GAAE,SAAO,E;gEAE9CC,mBAAA,CAA4C,WAAzC,uCAAqC;;EAP9CC,GAAA;AAAA;gEAcQD,mBAAA,CAIK,a,aAHHA,mBAAA,CAAe,YAAX,QAAM,G,aACVA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAgB,YAAZ,SAAO,E;;;uBAhBnBE,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BJH,mBAAA,CASM,c,gBARJA,mBAAA,CAAuG;IAAhGI,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,OAAO;IAACN,KAAK,EAAC,eAAe;IAACO,IAAI,EAAC,OAAO;IAACC,WAAW,EAAC,QAAQ;IAH3F,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAGqGC,IAAA,CAAAC,MAAM,GAAAF,MAAA;iDAANC,IAAA,CAAAC,MAAM,E,GACrGC,UAEM,EACNC,UAA4C,EACjCH,IAAA,CAAAI,GAAG,kB,cAAdZ,mBAAA,CAEM,OAVZa,UAAA,GASQC,YAAA,CAAsDC,sBAAA;IAAzCC,EAAE,EAAC;EAAM;IAT9BC,OAAA,EAAAC,QAAA,CAS+B,MAAiB,CAThDC,gBAAA,CAS+B,mBAAiB,E;IAThDC,CAAA;UAAAC,mBAAA,e,GAaIvB,mBAAA,CAmBQ,gBAlBJwB,UAIK,EACLxB,mBAAA,CAYQ,iB,kBAXNE,mBAAA,CAUKuB,SAAA,QA9BfC,WAAA,CAoB6BhB,IAAA,CAAAiB,OAAO,EAAfC,IAAI;yBAAf1B,mBAAA,CAUK;MAVwBD,GAAG,EAAE2B,IAAI,CAACtB;QACrCN,mBAAA,CAEK,YAAA6B,gBAAA,CADDD,IAAI,CAACE,KAAK,kBAEb9B,mBAAA,CAEI,YAAA6B,gBAAA,CADDD,IAAI,CAACxB,IAAI,kBAEbJ,mBAAA,CAEK,YAAA6B,gBAAA,CADDD,IAAI,CAACG,QAAQ,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}